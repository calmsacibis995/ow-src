/*
 * Copyright (c) 1991, Sun Microsystems, Inc.
 * Copyright (c) 1991, Nihon Sun Microsystems K.K.
 */

#ident	"@(#)convtab.c	1.1	93/01/27	SMI"

/*
 * Tables used by xctype.h for the Japanese language.
 */
#include <euc.h>
#include <widec.h>
#include <wctype.h>

static int	initialized_kj = 0;
static int	initialized_aj = 0;
wchar_t	_kana2jis[63];
wchar_t	_ascii2jis[95];

unsigned char	_KANA_TO_JIS[]= {
	0xa1, 0xa3, 0xa1, 0xd6, 0xa1, 0xd7, 0xa1, 0xa2,
	0xa1, 0xa6, 0xa5, 0xf2, 0xa5, 0xa1, 0xa5, 0xa3,
	0xa5, 0xa5, 0xa5, 0xa7, 0xa5, 0xa9, 0xa5, 0xe3,
	0xa5, 0xe5, 0xa5, 0xe7, 0xa5, 0xc3, 0xa1, 0xbc,
	0xa5, 0xa2, 0xa5, 0xa4, 0xa5, 0xa6, 0xa5, 0xa8,
	0xa5, 0xaa, 0xa5, 0xab, 0xa5, 0xad, 0xa5, 0xaf,
	0xa5, 0xb1, 0xa5, 0xb3, 0xa5, 0xb5, 0xa5, 0xb7,
	0xa5, 0xb9, 0xa5, 0xbb, 0xa5, 0xbd, 0xa5, 0xbf,
	0xa5, 0xc1, 0xa5, 0xc4, 0xa5, 0xc6, 0xa5, 0xc8,
	0xa5, 0xca, 0xa5, 0xcb, 0xa5, 0xcc, 0xa5, 0xcd,
	0xa5, 0xce, 0xa5, 0xcf, 0xa5, 0xd2, 0xa5, 0xd5,
	0xa5, 0xd8, 0xa5, 0xdb, 0xa5, 0xde, 0xa5, 0xdf,
	0xa5, 0xe0, 0xa5, 0xe1, 0xa5, 0xe2, 0xa5, 0xe4,
	0xa5, 0xe6, 0xa5, 0xe8, 0xa5, 0xe9, 0xa5, 0xea,
	0xa5, 0xeb, 0xa5, 0xec, 0xa5, 0xed, 0xa5, 0xef,
	0xa5, 0xf3, 0xa1, 0xab, 0xa1, 0xac
};

unsigned char	_ASCII_TO_JIS[]= {
	0xa1, 0xa1, 0xa1, 0xaa, 0xa1, 0xc9, 0xa1, 0xf4,
	0xa1, 0xf0, 0xa1, 0xf3, 0xa1, 0xf5, 0xa1, 0xc7,
	0xa1, 0xca, 0xa1, 0xcb, 0xa1, 0xf6, 0xa1, 0xdc,
	0xa1, 0xa4, 0xa1, 0xdd, 0xa1, 0xa5, 0xa1, 0xbf,
	0xa3, 0xb0, 0xa3, 0xb1, 0xa3, 0xb2, 0xa3, 0xb3,
	0xa3, 0xb4, 0xa3, 0xb5, 0xa3, 0xb6, 0xa3, 0xb7,
	0xa3, 0xb8, 0xa3, 0xb9, 0xa1, 0xa7, 0xa1, 0xa8,
	0xa1, 0xe3, 0xa1, 0xe1, 0xa1, 0xe4, 0xa1, 0xa9,
	0xa1, 0xf7, 0xa3, 0xc1, 0xa3, 0xc2, 0xa3, 0xc3,
	0xa3, 0xc4, 0xa3, 0xc5, 0xa3, 0xc6, 0xa3, 0xc7,
	0xa3, 0xc8, 0xa3, 0xc9, 0xa3, 0xca, 0xa3, 0xcb,
	0xa3, 0xcc, 0xa3, 0xcd, 0xa3, 0xce, 0xa3, 0xcf,
	0xa3, 0xd0, 0xa3, 0xd1, 0xa3, 0xd2, 0xa3, 0xd3,
	0xa3, 0xd4, 0xa3, 0xd5, 0xa3, 0xd6, 0xa3, 0xd7,
	0xa3, 0xd8, 0xa3, 0xd9, 0xa3, 0xda, 0xa1, 0xce,
	0xa1, 0xef, 0xa1, 0xcf, 0xa1, 0xb0, 0xa1, 0xb2,
	0xa1, 0xae, 0xa3, 0xe1, 0xa3, 0xe2, 0xa3, 0xe3,
	0xa3, 0xe4, 0xa3, 0xe5, 0xa3, 0xe6, 0xa3, 0xe7,
	0xa3, 0xe8, 0xa3, 0xe9, 0xa3, 0xea, 0xa3, 0xeb,
	0xa3, 0xec, 0xa3, 0xed, 0xa3, 0xee, 0xa3, 0xef,
	0xa3, 0xf0, 0xa3, 0xf1, 0xa3, 0xf2, 0xa3, 0xf3,
	0xa3, 0xf4, 0xa3, 0xf5, 0xa3, 0xf6, 0xa3, 0xf7,
	0xa3, 0xf8, 0xa3, 0xf9, 0xa3, 0xfa, 0xa1, 0xd0,
	0xa1, 0xc3, 0xa1, 0xd1, 0xa1, 0xb1
};

wchar_t
_kana_to_jis(int c)
{
	int	i;

	if (!initialized_kj) {
		for (i = 0; i < 63; i++)
			(void)mbtowc(&_kana2jis[i], &_KANA_TO_JIS[i * 2], 2);
		initialized_kj = 1;
	}
	return (_kana2jis[c % 63]);
}

wchar_t
_ascii_to_jis(int c)
{
	int	i;

	if (!initialized_aj) {
		for (i = 0; i < 95; i++)
			(void)mbtowc(&_ascii2jis[i], &_ASCII_TO_JIS[i * 2], 2);
		initialized_aj = 1;
	}
	return (_ascii2jis[c % 95]);
}
