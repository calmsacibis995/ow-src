
#ifndef lint
static char sccsid[] = "@(#)printui.c 1.19 93/02/09";
#endif

/*
 * Copyright (c) 1986, 1987, 1988 by Sun Microsystems, Inc.
 */

/*
 * printui.c - User interface object initialization functions.
 * for print pop up.
 * This file was generated by `gxv' from `imagetool.G'.
 */

#include <sys/param.h>
#include <xview/xview.h>
#include <xview/panel.h>
#include "imagetool.h"
#include "ui_imagetool.h"

/*
 * These are also defined in print.c
 * because LGETs have to be in *.c files.
 */
#define DEFAULT_MARGIN   LGET ("1.0")
#define INCH_LEFT_MARGIN LGET ("inches from left")
#define INCH_TOP_MARGIN  LGET ("inches from top")

/*
 * Initialize an instance of object `print'.
 */
PrintObjects *
PrintObjectsInitialize (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	int	label_width = 0;
	int	ref_width;
	int	items_width;
	int	first_line_width;
	int	buttons_width;
	int	longest_width;
	int	printer_label_width;
	int	size_label_width;
	int	range_label_width;
	int	im_size_label_width;
	int	orientation_label_width;
	int	position_label_width;
	int     longest_value_width;
	int	margin = 25;
        int     panel_x_gap;
        Xv_opaque  sbar;

	if (!ip && !(ip = (PrintObjects *) calloc(1, sizeof (PrintObjects))))
		return (PrintObjects *) NULL;

	if (!ip->print)
		ip->print = print_print_create (ip, owner);
	if (!ip->controls)
		ip->controls = print_controls_create (ip, ip->print);

	if (!ip->copies)
		ip->copies = print_copies_create (ip, ip->controls);
	if (!ip->header)
		ip->header = print_header_create (ip, ip->controls);

	if (!ip->printer)
		ip->printer = print_printer_create (ip, ip->controls);
	printer_label_width = xv_get (ip->printer, PANEL_LABEL_WIDTH);
	label_width = Max (label_width, printer_label_width);
	
	if (!ip->page_size)
		ip->page_size = print_page_size_create (ip, ip->controls);
	size_label_width = xv_get (ip->page_size, PANEL_LABEL_WIDTH);
	label_width = Max (label_width, size_label_width);

	if (!ip->page_range)
		ip->page_range = print_page_range_create (ip, ip->controls);
 	range_label_width = xv_get (ip->page_range, PANEL_LABEL_WIDTH);
	label_width = Max (label_width, range_label_width);
	
	if (!ip->size)
		ip->size = print_size_create (ip, ip->controls);
	im_size_label_width = xv_get (ip->size, PANEL_LABEL_WIDTH);
	label_width = Max (label_width, im_size_label_width);

	if (!ip->size_text)
		ip->size_text = print_size_text_create (ip, ip->controls);
	if (!ip->size_slider)
		ip->size_slider = print_size_slider_create (ip, ip->controls);
	if (!ip->size_percent)
		ip->size_percent = print_size_percent_create (ip, ip->controls);

	if (!ip->orientation)
		ip->orientation = print_orientation_create (ip, ip->controls);
	orientation_label_width = xv_get (ip->orientation, PANEL_LABEL_WIDTH);
	label_width = Max (label_width, orientation_label_width);

	if (!ip->position)
		ip->position = print_position_create (ip, ip->controls);
	position_label_width = xv_get (ip->position, PANEL_LABEL_WIDTH);
	label_width = Max (label_width, position_label_width);

	if (!ip->top_margin)
		ip->top_margin = print_top_margin_create (ip, ip->controls);
	if (!ip->top_margin_text)
		ip->top_margin_text = print_top_margin_text_create (ip, 
							ip->controls);
	if (!ip->left_margin)
		ip->left_margin = print_left_margin_create (ip, ip->controls);
	if (!ip->left_margin_text)
		ip->left_margin_text = print_left_margin_text_create (ip, 
							ip->controls);
	if (!ip->units)
		ip->units = print_units_create (ip, ip->controls);

	if (!ip->print_button)
		ip->print_button= print_print_button_create (ip, ip->controls);
	if (!ip->cancel_button)
		ip->cancel_button = print_cancel_button_create (ip, 
								ip->controls);

	first_line_width = xv_get (ip->copies, XV_WIDTH) +
			   xv_get (ip->header, XV_WIDTH) + 30;
	
	items_width = xv_get (ip->printer, XV_WIDTH) - 
		      printer_label_width + label_width;
	items_width = Max (items_width, 
			   xv_get (ip->page_size, XV_WIDTH) - 
			   size_label_width + label_width);
	items_width = Max (items_width, 
			   xv_get (ip->page_range, XV_WIDTH) - 
			   range_label_width + label_width);
	items_width = Max (items_width, 
			   xv_get (ip->size_text, XV_X) +
			   xv_get (ip->size_text, XV_WIDTH) - 
			   im_size_label_width + label_width);
	items_width = Max (items_width, 
			   xv_get (ip->size_percent, XV_X) +
			   xv_get (ip->size_percent, XV_WIDTH) - 
			   im_size_label_width + label_width);
	items_width = Max (items_width, 
			   xv_get (ip->orientation, XV_WIDTH) - 
			   orientation_label_width + label_width);
	items_width = Max (items_width, 
			   xv_get (ip->position, XV_WIDTH) - 
			   position_label_width + label_width);

	items_width = Max (items_width, 
			   xv_get (ip->units, XV_X) +
			   xv_get (ip->units, XV_WIDTH) -
			   position_label_width + label_width); 

        panel_x_gap = xv_get (ip->controls, PANEL_ITEM_X_GAP);
        longest_value_width = items_width - label_width - panel_x_gap;
        sbar = xv_get (ip->printer, PANEL_LIST_SCROLLBAR);
        xv_set (ip->printer, PANEL_LIST_WIDTH, 
		longest_value_width - xv_get (sbar, XV_WIDTH),
		NULL);
        xv_set (ip->page_size, PANEL_LIST_WIDTH, 
		longest_value_width - xv_get (sbar, XV_WIDTH),
		NULL);
        xv_set (ip->page_range, XV_WIDTH, 
		items_width - label_width + im_size_label_width, NULL);
        xv_set (ip->orientation, XV_WIDTH, 
		items_width - label_width - orientation_label_width, NULL);
        xv_set (ip->position, XV_WIDTH, 
		items_width - position_label_width, NULL);

	buttons_width = xv_get (ip->print_button, XV_WIDTH) +
			xv_get (ip->cancel_button, XV_WIDTH) + 20;
	
	longest_width = Max (items_width, buttons_width);
	longest_width = Max (longest_width, first_line_width);

	ref_width = first_line_width;
	if (buttons_width > first_line_width)
	   ref_width = buttons_width;

	xv_set (ip->copies, XV_X, (longest_width - first_line_width) / 2 + 25, 
			    NULL);
	xv_set (ip->header, XV_X, xv_get (ip->copies, XV_X) +
				  xv_get (ip->copies, XV_WIDTH) + 30,
			    NULL);
	xv_set (ip->print_button, XV_X, (longest_width - buttons_width) / 2 + 
					25,
				  NULL);
	xv_set (ip->cancel_button, XV_X, xv_get (ip->print_button, XV_X) +
					 xv_get (ip->print_button, XV_WIDTH) +
					 20,
				   NULL);

	if (ref_width > items_width) 
	   margin += (ref_width - items_width) / 2;

	xv_set (ip->printer, XV_X, (label_width - printer_label_width) + margin,
			     NULL);
	xv_set (ip->page_size, XV_X, (label_width - size_label_width) + margin,
			       NULL);
	xv_set (ip->page_range, XV_X, (label_width - range_label_width) + 
				       margin,
				 NULL);
	xv_set (ip->size, XV_X, (label_width - im_size_label_width) + margin, 
			  NULL);
	xv_set (ip->size_text, XV_X, xv_get (ip->size_text, XV_X) +
				     (label_width - im_size_label_width) + 
				     margin,
			       NULL);
	xv_set (ip->size_slider, XV_X, xv_get (ip->size_slider, XV_X) +
				       (label_width - im_size_label_width) + 
				       margin,
				 NULL);
	xv_set (ip->size_percent, XV_X, xv_get (ip->size_percent, XV_X) +
				        (label_width - im_size_label_width) + 
					margin,
				  NULL);
	xv_set (ip->orientation, XV_X, (label_width - orientation_label_width) +
				       margin,
				 NULL);
	xv_set (ip->position, XV_X, (label_width - position_label_width) +
				    margin,
			      NULL);
	xv_set (ip->top_margin, XV_X, xv_get (ip->top_margin, XV_X) +
				      (label_width - position_label_width) +
				      margin,
				NULL);
	xv_set (ip->top_margin_text, XV_X, xv_get (ip->top_margin_text, XV_X) +
				           (label_width - 
					    position_label_width) + margin,
				     NULL);
	xv_set (ip->left_margin, XV_X, xv_get (ip->left_margin, XV_X) +
				       (label_width - position_label_width) +
				       margin,
				 NULL);
	xv_set (ip->left_margin_text, XV_X, xv_get (ip->left_margin_text, XV_X) 					    + (label_width - 
					    position_label_width) + margin,
				      NULL);
	xv_set (ip->units, XV_X, xv_get (ip->units, XV_X) +
			         (label_width - position_label_width) + margin,
			   NULL);

	xv_set (ip->controls, XV_WIDTH, longest_width + 50,
			      XV_HEIGHT, xv_get (ip->print_button, XV_Y) +
					 xv_get (ip->print_button, XV_HEIGHT) +
					 25,
			      PANEL_DEFAULT_ITEM, ip->print_button, 
			      NULL);
	xv_set (ip->print, XV_WIDTH, longest_width + 50,
			   XV_HEIGHT, xv_get (ip->print_button, XV_Y) +
				      xv_get (ip->print_button, XV_HEIGHT) + 25,
			   NULL);

	return ip;
}

/*
 * Create object `print' in the specified instance.
 */
Xv_opaque
print_print_create (ip, owner)
	PrintObjects 	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	obj = xv_create (owner, FRAME_CMD,
		XV_KEY_DATA, INSTANCE, ip,
		XV_LABEL, LGET ("Image Tool:  Print"),
		FRAME_SHOW_FOOTER, FALSE,
		FRAME_SHOW_RESIZE_CORNER, FALSE,
		FRAME_CMD_PUSHPIN_IN, FALSE,
		NULL);
	/*xv_set(xv_get(obj, FRAME_CMD_PANEL), WIN_SHOW, FALSE, NULL); */
	return obj;
}

/*
 * Create object `controls' in the specified instance.
 */
Xv_opaque
print_controls_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	/*obj = xv_create(owner, PANEL, */
	obj = xv_get (owner, FRAME_CMD_PANEL);
	xv_set (obj,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, 0,
		WIN_BORDER, FALSE,
		XV_HELP_DATA, "imagetool:PrintWindow",
		NULL);
	return obj;
}

/*
 * Create object `copies' in the specified instance.
 */
Xv_opaque
print_copies_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	obj = xv_create(owner, PANEL_NUMERIC_TEXT,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, 25,
		PANEL_VALUE_DISPLAY_LENGTH, 3,
		PANEL_VALUE_STORED_LENGTH, 6,
		PANEL_LABEL_STRING, LGET ("Copies:"),
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_MAX_VALUE, 100,
		PANEL_MIN_VALUE, 1,
		PANEL_VALUE, 1,
		PANEL_READ_ONLY, FALSE,
		XV_HELP_DATA, "imagetool:PrintCopies",
		NULL);
	return obj;
}

/*
 * Create object `header' in the specified instance.
 */
Xv_opaque
print_header_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	obj = xv_create(owner, PANEL_TOGGLE, PANEL_FEEDBACK, PANEL_MARKED,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->copies, XV_X) + xv_get (ip->copies, XV_WIDTH),
		XV_Y, 21,
		PANEL_CHOICE_NROWS, 1,
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_LABEL_STRING, LGET ("Header Page:"),
		PANEL_CHOICE_STRING, 0, LGET ("Print"),
		PANEL_VALUE, 1,
		XV_HELP_DATA, "imagetool:PrintHeaders",
		NULL);
	return obj;
}

/*
 * Create object `printer' in the specified instance.
 */
Xv_opaque
print_printer_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	set_printer_list ();
	
	obj = xv_create(owner, PANEL_LIST,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, xv_get (ip->header, XV_Y) + 
		      xv_get (ip->header, XV_HEIGHT) + 20,
		PANEL_LIST_DISPLAY_ROWS, 3,
		PANEL_LABEL_STRING, LGET ("Printer:"),
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_READ_ONLY, FALSE,
		PANEL_CHOOSE_ONE, TRUE,
		PANEL_CHOOSE_NONE, FALSE,
		XV_HELP_DATA, "imagetool:PrintPrinters",
		NULL);

	set_printer_list (obj);
	return obj;
}

/*
 * Create object `page_size' in the specified instance.
 */
Xv_opaque
print_page_size_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
        extern void     page_size_notify();
	
	obj = xv_create(owner, PANEL_LIST,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, xv_get (ip->printer, XV_Y) +
		      xv_get (ip->printer, XV_HEIGHT) + 20,
		PANEL_LABEL_STRING, LGET ("Page Size:"),
                PANEL_LIST_DISPLAY_ROWS, 3,
                PANEL_LAYOUT, PANEL_HORIZONTAL,
                PANEL_READ_ONLY, FALSE,
                PANEL_CHOOSE_ONE, TRUE,
                PANEL_CHOOSE_NONE, FALSE,
		PANEL_NOTIFY_PROC, page_size_notify,
                PANEL_LIST_STRINGS,
                        LGET ("8.5 x 11 in (Letter)"),
                        LGET ("8.5 x 14 in (Legal)"),
                        LGET ("11  x 17 in (Ledger)"),
                        LGET ("29.7 x 42 cm (A3)"),
                        LGET ("21 x 29.7 cm (A4)"),
                        LGET ("17.6 x 25 cm (B5)"),
			NULL,
		PANEL_LIST_SELECT, 0, TRUE,
		XV_HELP_DATA, "imagetool:PrintPageSize",
		NULL);


	return obj;
}

/*
 * Create object `page_range' in the specified instance.
 */
Xv_opaque
print_page_range_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	Xv_opaque	sbar;
	extern void	page_range_notify_proc ();
	
	obj = xv_create(owner, PANEL_CHOICE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, xv_get (ip->page_size, XV_Y) +
		      xv_get (ip->page_size, XV_HEIGHT) + 20,
		PANEL_CHOICE_NCOLS, 1,
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_CHOOSE_ONE, TRUE,
		PANEL_CHOOSE_NONE, FALSE,
		PANEL_NOTIFY_PROC, page_range_notify_proc,
		PANEL_LABEL_STRING, LGET ("Page Range:"),
		PANEL_CHOICE_STRINGS,
			LGET ("This Page (As Image)"),
			LGET ("All (Original Document, No Edits)"),
			NULL,
		PANEL_VALUE, 1,
		PANEL_INACTIVE, TRUE,
		XV_HELP_DATA, "imagetool:PrintPageRange",
		NULL);
/*
        sbar = xv_get (ip->printer, PANEL_LIST_SCROLLBAR);
        xv_set (ip->printer, PANEL_LIST_WIDTH, xv_get (obj, XV_WIDTH) -
                                               (xv_get (obj, PANEL_VALUE_X) -
                                               xv_get (obj, PANEL_LABEL_X)) -
                                               xv_get (sbar, XV_WIDTH),
					       NULL);

        sbar = xv_get (ip->page_size, PANEL_LIST_SCROLLBAR);
        xv_set (ip->page_size, PANEL_LIST_WIDTH, xv_get (obj, XV_WIDTH) -
                                                 (xv_get (obj, PANEL_VALUE_X) -
                                                 xv_get (obj, PANEL_LABEL_X)) -
                                                 xv_get (sbar, XV_WIDTH),
					         NULL);
*/
	return obj;
}

/*
 * Create object `size' in the specified instance.
 */
Xv_opaque
print_size_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	size_notify_proc ();
	
	obj = xv_create(owner, PANEL_NUMERIC_TEXT,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, xv_get (ip->page_range, XV_Y) +
		      xv_get (ip->page_range, XV_HEIGHT) + 20,
		PANEL_LABEL_STRING, LGET ("Image Size:"),
                PANEL_VALUE_DISPLAY_LENGTH, 3,
                PANEL_VALUE_STORED_LENGTH, 6,
                PANEL_LAYOUT, PANEL_HORIZONTAL,
                PANEL_MAX_VALUE, 400,
                PANEL_MIN_VALUE, 25,
                PANEL_READ_ONLY, FALSE,
		PANEL_VALUE, 100,
		PANEL_NOTIFY_PROC, size_notify_proc,
		XV_HELP_DATA, "imagetool:PrintSize",
		NULL);
	return obj;
}

/*
 * Create object `size_text' in the specified instance.
 */
Xv_opaque
print_size_text_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	obj = xv_create(owner, PANEL_MESSAGE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->size, XV_X) + xv_get (ip->size, XV_WIDTH) + 5,
		XV_Y, xv_get (ip->size, XV_Y),
		PANEL_LABEL_STRING, LGET ("%"),
		PANEL_LABEL_BOLD, FALSE,
		XV_HELP_DATA, "imagetool:PrintSize",
		NULL);
	return obj;
}

/*
 * Create object `size_slider' in the specified instance.
 */
Xv_opaque
print_size_slider_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	print_slider_notify_proc (); 
	
	obj = xv_create(owner, PANEL_SLIDER,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->size, PANEL_VALUE_X),
		XV_Y, xv_get (ip->size, XV_Y) + 
		      xv_get (ip->size, XV_HEIGHT) + 10,
		PANEL_SLIDER_WIDTH, 156,
		PANEL_TICKS, 15,
		PANEL_DIRECTION, PANEL_HORIZONTAL,
		PANEL_SLIDER_END_BOXES, FALSE,
		PANEL_SHOW_RANGE, FALSE,
		PANEL_SHOW_VALUE, FALSE,
		PANEL_MIN_VALUE, 25,
		PANEL_MAX_VALUE, 400,
		PANEL_MIN_TICK_STRING, LGET ("25"),
		PANEL_MAX_TICK_STRING, LGET ("400"),
		PANEL_VALUE, 100,
		PANEL_NOTIFY_LEVEL, PANEL_ALL,
		PANEL_NOTIFY_PROC, print_slider_notify_proc,
		XV_HELP_DATA, "imagetool:PrintSize",
		NULL);
	return obj;
}

/*
 * Create object `size_percent' in the specified instance.
 */
Xv_opaque
print_size_percent_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	obj = xv_create(owner, PANEL_MESSAGE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->size_slider, XV_X) + 
		      xv_get (ip->size_slider, XV_WIDTH) + 3,
		PANEL_LABEL_STRING, LGET ("%"),
		PANEL_LABEL_BOLD, FALSE,
		XV_HELP_DATA, "imagetool:PrintSize",
		NULL);
	xv_set (obj, XV_Y, xv_get (ip->size_slider, XV_Y) +
			   xv_get (ip->size_slider, XV_HEIGHT) -
			   xv_get (obj, XV_HEIGHT),
		     NULL);
	return obj;
}

/*
 * Create object `orientation' in the specified instance.
 */
Xv_opaque
print_orientation_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void     orientation_notify_proc();
	
	obj = xv_create(owner, PANEL_CHOICE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, xv_get (ip->size_slider, XV_Y) + 
		      xv_get (ip->size_slider, XV_HEIGHT) + 20,
		PANEL_CHOICE_NROWS, 1,
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_CHOOSE_NONE, FALSE,
		PANEL_LABEL_STRING, LGET ("Image Orientation:"),
		PANEL_NOTIFY_PROC, orientation_notify_proc,
		PANEL_CHOICE_STRINGS,
			LGET ("Portrait"),
			LGET ("Landscape"),
			NULL,
		XV_HELP_DATA, "imagetool:PrintOrientation",
		NULL);
	return obj;
}

/*
 * Create object `position' in the specified instance.
 */
Xv_opaque
print_position_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	position_notify_proc ();
	
	obj = xv_create(owner, PANEL_CHOICE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, xv_get (ip->orientation, XV_Y) +
		      xv_get (ip->orientation, XV_HEIGHT) + 20,
		PANEL_CHOICE_NROWS, 1,
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_NOTIFY_PROC, position_notify_proc,
		PANEL_CHOOSE_NONE, FALSE,
		PANEL_LABEL_STRING, LGET ("Image Position:"),
		PANEL_CHOICE_STRINGS,
			LGET ("Centered"),
			LGET ("Margins:"),
			NULL,
		XV_HELP_DATA, "imagetool:PrintPosition",
		NULL);
	return obj;
}

/*
 * Create object `top_margin' in the specified instance.
 */
Xv_opaque
print_top_margin_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	margin_notify_proc ();
	
	obj = xv_create(owner, PANEL_TEXT,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->position, PANEL_VALUE_X),
		XV_Y, xv_get (ip->position, XV_Y) +
		      xv_get (ip->position, XV_HEIGHT) + 10,
		PANEL_VALUE_DISPLAY_LENGTH, 3,
		PANEL_VALUE_STORED_LENGTH, 6,
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_VALUE, DEFAULT_MARGIN,
		PANEL_INACTIVE, TRUE,
		PANEL_READ_ONLY, FALSE,
		PANEL_NOTIFY_PROC, margin_notify_proc,
		XV_HELP_DATA, "imagetool:PrintTopMargin",
#ifdef OW_I18N
		WIN_USE_IM, TRUE,
#endif
		NULL);
	return obj;
}

/*
 * Create object `top_margin_text' in the specified instance.
 */
Xv_opaque
print_top_margin_text_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	obj = xv_create(owner, PANEL_MESSAGE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->top_margin, XV_X) +
		      xv_get (ip->top_margin, XV_WIDTH) + 3,
		XV_Y, xv_get (ip->top_margin, XV_Y),
		PANEL_LABEL_STRING, INCH_TOP_MARGIN,
		PANEL_LABEL_BOLD, FALSE,
		PANEL_INACTIVE, TRUE,
		XV_HELP_DATA, "imagetool:PrintTopMargin",
		NULL);
	return obj;
}

/*
 * Create object `left_margin' in the specified instance.
 */
Xv_opaque
print_left_margin_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	margin_notify_proc ();
	
	obj = xv_create(owner, PANEL_TEXT,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->top_margin, XV_X),
		XV_Y, xv_get (ip->top_margin, XV_Y) +
		      xv_get (ip->top_margin, XV_HEIGHT) + 5,
		PANEL_VALUE_DISPLAY_LENGTH, 3,
		PANEL_VALUE_STORED_LENGTH, 6,
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_VALUE, DEFAULT_MARGIN,
		PANEL_READ_ONLY, FALSE,
		PANEL_INACTIVE, TRUE,
		PANEL_NOTIFY_PROC, margin_notify_proc,
		XV_HELP_DATA, "imagetool:PrintLeftMargin",
#ifdef OW_I18N
		WIN_USE_IM, TRUE,
#endif
		NULL);
	return obj;
}

/*
 * Create object `left_margin_text' in the specified instance.
 */
Xv_opaque
print_left_margin_text_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	
	obj = xv_create(owner, PANEL_MESSAGE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->left_margin, XV_X) +
		      xv_get (ip->left_margin, XV_WIDTH) + 3,
		XV_Y, xv_get (ip->left_margin, XV_Y),
		PANEL_LABEL_STRING, INCH_LEFT_MARGIN,
		PANEL_LABEL_BOLD, FALSE,
		PANEL_INACTIVE, TRUE,
		XV_HELP_DATA, "imagetool:PrintLeftMargin",
		NULL);
	return obj;
}

/*
 * Create object `units' in the specified instance.
 */
Xv_opaque
print_units_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	int		diff;
	extern void	units_notify_proc ();
	
	obj = xv_create(owner, PANEL_CHOICE,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->left_margin_text, XV_X) +
		      xv_get (ip->left_margin_text, XV_WIDTH) + 20,
		XV_Y, xv_get (ip->top_margin, XV_Y) - 5,
		PANEL_CHOICE_NCOLS, 1,
		PANEL_LAYOUT, PANEL_HORIZONTAL,
		PANEL_CHOOSE_NONE, FALSE,
		PANEL_NOTIFY_PROC, units_notify_proc,
		PANEL_CHOICE_STRINGS,
/* I18N_STRING -
     in - short for inches
     cm - short for centimeters
 */
			LGET ("in"),
			LGET ("cm"),
			NULL,
		PANEL_INACTIVE, TRUE,
		XV_HELP_DATA, "imagetool:PrintUnits",
		NULL);

	diff = xv_get (ip->top_margin_text, XV_WIDTH) -
	       xv_get (ip->left_margin_text, XV_WIDTH);

	if (diff > 0)
	   xv_set (obj, XV_X, xv_get (obj, XV_X) + diff, NULL);

	return obj;
}

/*
 * Create object `print_button' in the specified instance.
 */
Xv_opaque
print_print_button_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	print_button_notify_proc ();
	
	obj = xv_create(owner, PANEL_BUTTON,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, 0,
		XV_Y, xv_get (ip->left_margin, XV_Y) +
		      xv_get (ip->left_margin, XV_HEIGHT) + 40,
		PANEL_LABEL_STRING, LGET ("Print"),
		PANEL_NOTIFY_PROC, print_button_notify_proc,
		XV_HELP_DATA, "imagetool:PrintPrint",
		NULL);
	return obj;
}

/*
 * Create object `cancel_button' in the specified instance.
 */
Xv_opaque
print_cancel_button_create (ip, owner)
	PrintObjects	*ip;
	Xv_opaque	 owner;
{
	Xv_opaque	obj;
	extern void	print_cancel_notify_proc ();
	
	obj = xv_create(owner, PANEL_BUTTON,
		XV_KEY_DATA, INSTANCE, ip,
		XV_X, xv_get (ip->print_button, XV_WIDTH) + 20,
		XV_Y, xv_get (ip->print_button, XV_Y),
		PANEL_LABEL_STRING, LGET ("Cancel"),
		PANEL_NOTIFY_PROC, print_cancel_notify_proc,
		XV_HELP_DATA, "imagetool:PrintCancel",
		NULL);
	return obj;
}

